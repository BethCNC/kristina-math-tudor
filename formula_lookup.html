<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formula Lookup | MAT 143</title>
    <meta name="description" content="Quick reference for all MAT 143 formulas with examples and explanations.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="public/favicons/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="public/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="public/favicons/favicon-16x16.png">
    
    <!-- Design System -->
    <link rel="stylesheet" href="src/styles/globals-new.css">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body class="bg-primary">
    <!-- Skip to main content -->
    <a href="#main-content" class="skip-link">
        Skip to main content
    </a>

    <!-- Desktop Header -->
    <header class="header">
        <a href="index.html" class="header-logo" aria-label="Academic Dashboard Home">
            <svg width="28" height="28" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="32" height="32" rx="6" fill="#FE5A4A"/>
                <path d="M16 8L8 14V24H12V18H20V24H24V14L16 8Z" fill="white"/>
            </svg>
        </a>
        
        <nav class="header-nav" aria-label="Main navigation">
            <a href="index.html" class="nav-item-desktop">Home</a>
            <a href="tutor.html" class="nav-item-desktop">Courses</a>
            <a href="calendar.html" class="nav-item-desktop">Calendar</a>
            <a href="formula_lookup.html" class="nav-item-desktop active">Resources</a>
            <a href="#profile" class="nav-item-desktop">Profile</a>
        </nav>
        
        <div class="header-actions">
            <button class="btn-icon has-notification" aria-label="Notifications">
                <i data-lucide="bell" class="icon-md"></i>
            </button>
            <div class="avatar">
                <div class="avatar-initials">KC</div>
            </div>
        </div>
    </header>

    <!-- Mobile Header -->
    <header class="header-mobile">
        <h1 class="h-df text-center">Formula Lookup</h1>
    </header>

    <!-- Main Content -->
    <main id="main-content" class="container" style="padding-top: 24px; padding-bottom: 32px;">
        
        <!-- Search Section -->
        <section class="mb-xxl">
            <div class="flex items-center gap-df mb-df">
                <div class="flex-1">
                    <input 
                        type="search" 
                        id="formula-search"
                        class="input input-search" 
                        placeholder="Search formulas..."
                        aria-label="Search formulas">
                </div>
                <button class="btn-icon" aria-label="Filter options">
                    <i data-lucide="sliders-horizontal" class="icon-md"></i>
                </button>
            </div>
        </section>

        <!-- Category Filter Badges -->
        <section class="mb-xxl">
            <div class="flex flex-wrap gap-xxs" id="category-filters">
                <button class="badge badge-purple active" data-chapter="all">
                    All Chapters
                </button>
                <button class="badge badge-purple" data-chapter="1">
                    Chapter 1
                </button>
                <button class="badge badge-orange" data-chapter="4">
                    Chapter 4
                </button>
                <button class="badge badge-blue" data-chapter="5">
                    Chapter 5
                </button>
                <button class="badge badge-pink" data-chapter="6">
                    Chapter 6
                </button>
                <button class="badge badge-lime" data-chapter="7">
                    Chapter 7
                </button>
                <button class="badge badge-purple" data-chapter="10">
                    Chapter 10
                </button>
                <button class="badge badge-orange" data-chapter="11">
                    Chapter 11
                </button>
                <button class="badge badge-blue" data-chapter="13">
                    Chapter 13
                </button>
            </div>
        </section>

        <!-- Quick Access Formulas -->
        <section class="mb-db">
            <h2 class="h-xl text-primary mb-df">Most Used</h2>
            
            <div class="grid grid-cols-2 gap-df" style="grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));">
                <!-- Formula Card 1 -->
                <div class="card-base p-df">
                    <div class="flex items-start justify-between mb-sm">
                        <h3 class="h-lg text-primary">Compound Interest</h3>
                        <button class="btn-icon btn-sm" aria-label="Copy formula">
                            <i data-lucide="copy" class="icon-sm"></i>
                        </button>
                                </div>
                    <div class="flex flex-col gap-xxs mb-df">
                        <div class="badge badge-pink">Chapter 6</div>
                    </div>
                    <div class="p-sm bg-secondary rounded-md mb-df">
                        <code class="t-df text-mono text-primary">A = P(1 + r/n)<sup>nt</sup></code>
                                </div>
                    <div class="t-sm text-secondary">
                        <p><strong>Where:</strong></p>
                        <ul style="margin-left: 16px; margin-top: 4px;">
                            <li>A = Final amount</li>
                            <li>P = Principal</li>
                            <li>r = Annual interest rate</li>
                            <li>n = Compounds per year</li>
                            <li>t = Time in years</li>
                        </ul>
                    </div>
                </div>

                <!-- Formula Card 2 -->
                <div class="card-base p-df">
                    <div class="flex items-start justify-between mb-sm">
                        <h3 class="h-lg text-primary">Simple Interest</h3>
                        <button class="btn-icon btn-sm" aria-label="Copy formula">
                            <i data-lucide="copy" class="icon-sm"></i>
                        </button>
                                </div>
                    <div class="flex flex-col gap-xxs mb-df">
                        <div class="badge badge-pink">Chapter 6</div>
                            </div>
                    <div class="p-sm bg-secondary rounded-md mb-df">
                        <code class="t-df text-mono text-primary">I = Prt</code>
                    </div>
                    <div class="t-sm text-secondary">
                        <p><strong>Where:</strong></p>
                        <ul style="margin-left: 16px; margin-top: 4px;">
                            <li>I = Interest earned</li>
                            <li>P = Principal</li>
                            <li>r = Interest rate</li>
                            <li>t = Time in years</li>
                        </ul>
                    </div>
                </div>

                <!-- Formula Card 3 -->
                <div class="card-base p-df">
                    <div class="flex items-start justify-between mb-sm">
                        <h3 class="h-lg text-primary">Percentage Change</h3>
                        <button class="btn-icon btn-sm" aria-label="Copy formula">
                            <i data-lucide="copy" class="icon-sm"></i>
                        </button>
                    </div>
                    <div class="flex flex-col gap-xxs mb-df">
                        <div class="badge badge-orange">Chapter 4</div>
                                </div>
                    <div class="p-sm bg-secondary rounded-md mb-df">
                        <code class="t-df text-mono text-primary">% change = ((new - old) / old) × 100</code>
                            </div>
                    <div class="t-sm text-secondary">
                        <p><strong>Example:</strong></p>
                        <p style="margin-top: 4px;">Price increased from $50 to $65<br>
                        % change = ((65 - 50) / 50) × 100 = 30%</p>
                    </div>
                </div>

                <!-- Formula Card 4 -->
                <div class="card-base p-df">
                    <div class="flex items-start justify-between mb-sm">
                        <h3 class="h-lg text-primary">Distance Formula</h3>
                        <button class="btn-icon btn-sm" aria-label="Copy formula">
                            <i data-lucide="copy" class="icon-sm"></i>
                        </button>
                                </div>
                    <div class="flex flex-col gap-xxs mb-df">
                        <div class="badge badge-lime">Chapter 7</div>
                            </div>
                    <div class="p-sm bg-secondary rounded-md mb-df">
                        <code class="t-df text-mono text-primary">d = rt</code>
                    </div>
                    <div class="t-sm text-secondary">
                        <p><strong>Where:</strong></p>
                        <ul style="margin-left: 16px; margin-top: 4px;">
                            <li>d = Distance</li>
                            <li>r = Rate (speed)</li>
                            <li>t = Time</li>
                        </ul>
                    </div>
                </div>

                <!-- Formula Card 5 -->
                <div class="card-base p-df">
                    <div class="flex items-start justify-between mb-sm">
                        <h3 class="h-lg text-primary">Unit Conversion</h3>
                        <button class="btn-icon btn-sm" aria-label="Copy formula">
                            <i data-lucide="copy" class="icon-sm"></i>
                        </button>
                                </div>
                    <div class="flex flex-col gap-xxs mb-df">
                        <div class="badge badge-lime">Chapter 7</div>
                            </div>
                    <div class="p-sm bg-secondary rounded-md mb-df">
                        <code class="t-df text-mono text-primary">new = old × (conversion factor)</code>
                    </div>
                    <div class="t-sm text-secondary">
                        <p><strong>Example:</strong></p>
                        <p style="margin-top: 4px;">5 miles = 5 × 5280 = 26,400 feet</p>
                    </div>
                </div>

                <!-- Formula Card 6 -->
                <div class="card-base p-df">
                    <div class="flex items-start justify-between mb-sm">
                        <h3 class="h-lg text-primary">Mean (Average)</h3>
                        <button class="btn-icon btn-sm" aria-label="Copy formula">
                            <i data-lucide="copy" class="icon-sm"></i>
                        </button>
                            </div>
                    <div class="flex flex-col gap-xxs mb-df">
                        <div class="badge badge-orange">Chapter 11</div>
                            </div>
                    <div class="p-sm bg-secondary rounded-md mb-df">
                        <code class="t-df text-mono text-primary">mean = Σx / n</code>
                    </div>
                    <div class="t-sm text-secondary">
                        <p><strong>Where:</strong></p>
                        <ul style="margin-left: 16px; margin-top: 4px;">
                            <li>Σx = Sum of all values</li>
                            <li>n = Number of values</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Mobile Bottom Navigation -->
    <nav class="bottom-nav" aria-label="Mobile navigation">
        <a href="index.html" class="nav-item-mobile" data-page="home">
            <i data-lucide="home" class="nav-item-mobile-icon"></i>
            <span class="nav-item-mobile-label">Home</span>
        </a>
        <a href="tutor.html" class="nav-item-mobile" data-page="courses">
            <i data-lucide="book-open" class="nav-item-mobile-icon"></i>
            <span class="nav-item-mobile-label">Courses</span>
        </a>
        <a href="calendar.html" class="nav-item-mobile" data-page="calendar">
            <i data-lucide="calendar" class="nav-item-mobile-icon"></i>
            <span class="nav-item-mobile-label">Calendar</span>
        </a>
        <a href="formula_lookup.html" class="nav-item-mobile active" data-page="resources">
            <i data-lucide="book-marked" class="nav-item-mobile-icon"></i>
            <span class="nav-item-mobile-label">Resources</span>
        </a>
        <a href="#profile" class="nav-item-mobile" data-page="profile">
            <i data-lucide="user" class="nav-item-mobile-icon"></i>
            <span class="nav-item-mobile-label">Profile</span>
        </a>
    </nav>

    <!-- Scripts -->
    <script>
            lucide.createIcons();
    </script>

    <!-- ADHD Accessibility Features -->
    <script src="src/js/focus-mode.js"></script>
    <script src="src/js/reading-mode.js"></script>
    <script src="src/js/bottom-nav.js"></script>

    <!-- Search and Filter Functionality -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const searchInput = document.getElementById('formula-search');
            const categoryButtons = document.querySelectorAll('#category-filters .badge');
            const formulaCards = document.querySelectorAll('.card-base');
            
            // Search functionality
            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                formulaCards.forEach(card => {
                    const title = card.querySelector('.h-lg').textContent.toLowerCase();
                    const content = card.textContent.toLowerCase();
                    
                    if (title.includes(searchTerm) || content.includes(searchTerm)) {
                        card.style.display = 'block';
                        card.classList.add('fade-in');
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
            
            // Category filter
            categoryButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Update active state
                    categoryButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    const chapter = this.dataset.chapter;
                    
                    formulaCards.forEach(card => {
                        const cardChapter = card.querySelector('.badge')?.textContent;
                        
                        if (chapter === 'all' || cardChapter?.includes(chapter)) {
                            card.style.display = 'block';
                            card.classList.add('fade-in');
                        } else {
                            card.style.display = 'none';
                        }
                    });
                });
            });
            
            // Copy to clipboard
            document.querySelectorAll('[aria-label="Copy formula"]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const card = this.closest('.card-base');
                    const formula = card.querySelector('code').textContent;
                    
                    navigator.clipboard.writeText(formula).then(() => {
                        // Show success feedback
                        const icon = this.querySelector('i');
                        icon.setAttribute('data-lucide', 'check');
                        lucide.createIcons();
                        
                        setTimeout(() => {
                            icon.setAttribute('data-lucide', 'copy');
                            lucide.createIcons();
                        }, 2000);
                    });
                });
            });
            
            // Animate cards on load
            formulaCards.forEach((card, index) => {
                card.style.animationDelay = `${index * 30}ms`;
                card.classList.add('slide-up');
            });
        });
    </script>
</body>
</html>
