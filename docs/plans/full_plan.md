
# Cursor AI Planning Agent — Start‑to‑Finish Plan (Kristina's Academic Success Dashboard)

This plan is optimized for **Cursor Plan Mode + Background Agents** and your repo's tech stack (**vanilla HTML/JS + Tailwind**, Anthropic for the tutor). It's intentionally step‑by‑step and ready to place in `.cursor/plans/full_plan.md`.

---

## 0) Preconditions & Guardrails
- **Tech stack (do not change):** vanilla HTML, CSS, Tailwind; Python (Anthropic API) for tutor endpoint.
- **Style:** Retro/minimal, high‑contrast; keyboard‑accessible; mobile‑first.
- **Forbidden:** React/Next.js, shadcn/ui, Radix components, heavy JS frameworks, DB/auth (unless explicitly added later).
- **Branching:** Always work on a feature branch; never push to `main` directly.

---

## 1) Initialize the Agent (Plan Mode)
1. Open the repo in **Cursor** → press **Shift+Tab** to enter **Plan Mode**.
2. Load context from these files:
   - `.cursor/rules/agent_execution_rules.mdc` (hard constraints & style)
   - `.cursor/plans/agent_plan.md` (existing scope & tasks)
3. Ask for clarifications only if required data is missing (semester dates, EVA/withdrawal dates). Otherwise proceed with assumptions noted in plan.

**Deliverables:**
- `plans/full_plan.md` (this file), confirmed and saved by Cursor.
- A task graph with dependencies (auto‑generated by Plan Mode).

---

## 2) Environment Setup (Background Agent)
1. Ensure `requirements.txt` includes `anthropic` and any small utilities.
2. (Optional) Add `environment.json` at repo root:
   - `"install": "pip install -r requirements.txt"`
   - `"start": "npm run watch"` (or your Tailwind build script)
3. Add `.env.example` with `ANTHROPIC_API_KEY=` (no value).

**Deliverables:**
- `environment.json` (if used)
- `.env.example`

---

## 3) Repo Cleanup & Structure
1. Remove/confirm archival of legacy or duplicated pages (old calendars, broken chapters).
2. Keep a **single** source for: navigation header, footer, tokens, global CSS.
3. Normalize file names: `calendar.html`, `tutor.html`, `english_materials.html`, `chapter-<n>.html`.
4. Move shared styles to `src/styles/` and shared scripts to `src/scripts/`.

**Deliverables:**
- Clean tree; `_archived/` contains old assets (if kept).

---

## 4) Design System (Tailwind‑only)
1. Configure Tailwind theme tokens (retro palette; Vend Sans stacks; spacing; radii).
2. Build tiny, reusable primitives (card, button, alert, progress, tab, table) with Tailwind classes.
3. Ensure focus rings and contrasts meet WCAG AA.

**Deliverables:**
- `src/styles/design-system.css`
- Tailwind config updates
- Example component snippets in `docs/ui-examples.md`

---

## 5) Information Architecture & Pages
Create/complete these pages with consistent nav + footer:

- **Dashboard (`index.html`)**
  - "This week" panel (assignments/tests due)
  - Progress bars for MAT143 / ENG111
  - Quick links: current chapter, current essay

- **Calendar (`calendar.html`)**
  - 16‑week view, filters (course/urgency), color coding
  - Import dates from a JSON source or inline data module
  - EVA, withdrawal, signature assignment, final exam

- **Math Tutor (`tutor.html`)**
  - Chapter navigation; formula sheets; worked examples
  - "Ask the Tutor" box → calls `/api/tutor`

- **Writing Coach (`english_materials.html`)**
  - Prompts, rubrics, checklists; citation tips; progress checklist

- **Chapters (`chapter-<n>.html`)**
  - Topics, formulas, examples, practice Q&A

**Deliverables:**
- All pages wired with consistent layout + tokens.

---

## 6) Content Completion (Gaps)
Add the missing content called out in the audit:
- **Chapter 6:** APY, present value, future value
- **Chapter 13:** Standard divisor, standard quota
- **Ch. 10 & 11:** Expected value
- Add lessons: 1.1, 1.2, 6.2, 6.4, 10.3, 11.1

**Deliverables:**
- Updated chapter pages and formula sections
- `data/formulas.json` (optional single source of truth)

---

## 7) AI Tutor Integration
1. Implement `/api/tutor` (Python) using `anthropic` package.
2. Load API key from environment; on missing key return graceful fallback tips.
3. Add rate‑limit and minimal caching (in‑memory) for identical queries.
4. Front‑end: `fetch('/api/tutor', {question, chapter})` → render markdown answer.

**Deliverables:**
- `api/tutor.py`
- `src/scripts/tutor.js`

---

## 8) Accessibility & Performance
1. Add `skip to content` link; ensure tab order and focus states.
2. Validate headings, landmarks, alt text; ensure color contrast.
3. Lighthouse targets: Performance ≥ 90, Accessibility ≥ 95, Best Practices ≥ 95.
4. Image optimization (sizes, `loading="lazy"`).

**Deliverables:**
- Axe/Lighthouse report in `docs/reports/`

---

## 9) QA & Tests
1. Add minimal tests: Python unit test for tutor endpoint; smoke tests for pages.
2. Manual checklist: open every page, check links, forms, tutor requests.
3. Git hooks: format/lint; CI: run tests on PR branches.

**Deliverables:**
- `tests/` (Python/JS as applicable)
- CI config (optional)

---

## 10) Deploy & Handover
1. Deploy to Vercel/Netlify.
2. Set `ANTHROPIC_API_KEY` in host environment.
3. Final pass with instructor‑grade dates; annotate any assumptions inside calendar.
4. Handover notes: where to update dates each semester and how to add new formulas.

**Deliverables:**
- Live URL
- `docs/maintenance.md`

---

## How to Execute This Plan in Cursor
1. **Plan Mode:** Open this file in Cursor → Plan Mode → "Use this document as the plan." Confirm tasks and dependencies.
2. **Background Agent:** Start a background agent (Cmd/Ctrl+E). It will clone the repo, run `environment.json` if present, then execute to‑dos.
3. **Review Loop:** For each PR the agent opens, review diffs, run tests, and merge. If something's missing, add a sub‑task directly in this plan and re‑run.

---

## Notes on Consistency with Existing Plan
- This plan **extends** and operationalizes your earlier `agent_plan.md` (same scope and milestones), adding execution details for Plan Mode/Background Agents and a stricter dependency/branching policy.
- Keep **both** plans:
  - `agent_plan.md` → concise scope & content checklist.
  - `full_plan.md` (this file) → execution playbook for the agent.
- Ensure there is **one rules file** in `.cursor/rules/` (`agent_execution_rules.mdc`). Do not keep older, conflicting rule files.

